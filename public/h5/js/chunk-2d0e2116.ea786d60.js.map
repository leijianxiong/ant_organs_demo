{"version":3,"sources":["webpack:///./src/views/orderAdmin/AdminOrderList.vue?bb9f","webpack:///src/views/orderAdmin/AdminOrderList.vue","webpack:///./src/views/orderAdmin/AdminOrderList.vue?17de","webpack:///./src/views/orderAdmin/AdminOrderList.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","staticClass","class","where","status","on","click","$event","changeStatus","_v","_l","item","index","key","toDetail","_s","order_id","add_time","val","attrs","src","cart_info","productInfo","image","store_name","suk","_e","price","cart_num","ot_price","total_num","pay_price","total_postage","modify","pay_type","paid","offlinePay","to","loaded","loading","change","orderInfo","closechange","changeclose","savePrice","staticRenderFns","AdminOrderListvue_type_script_lang_js_","name","components","PriceChange","Loading","props","data","current","types","page","limit","list","watch","$route.params.types","newVal","that","undefined","init","getIndex","mounted","$route","params","$scroll","$refs","container","methods","more","msg","_savePrice","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","opt","remark","wrap","_context","prev","next","$validator","validate","message","t0","abrupt","dialog","admin","then","$dialog","success","error","t1","res","err","stop","_x","apply","arguments","length","push","$router","path","_this","console","log","orderAdmin_AdminOrderListvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"h5/js/chunk-2d0e2116.ea786d60.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"container\",staticClass:\"pos-order-list\"},[_c('div',{staticClass:\"nav acea-row row-around row-middle\"},[_c('div',{staticClass:\"item\",class:_vm.where.status == 0 ? 'on' : '',on:{\"click\":function($event){return _vm.changeStatus(0)}}},[_vm._v(\"\\n      待付款\\n    \")]),_c('div',{staticClass:\"item\",class:_vm.where.status == 1 ? 'on' : '',on:{\"click\":function($event){return _vm.changeStatus(1)}}},[_vm._v(\"\\n      待发货\\n    \")]),_c('div',{staticClass:\"item\",class:_vm.where.status == 2 ? 'on' : '',on:{\"click\":function($event){return _vm.changeStatus(2)}}},[_vm._v(\"\\n      待收货\\n    \")]),_c('div',{staticClass:\"item\",class:_vm.where.status == 3 ? 'on' : '',on:{\"click\":function($event){return _vm.changeStatus(3)}}},[_vm._v(\"\\n      待评价\\n    \")]),_c('div',{staticClass:\"item\",class:_vm.where.status == 4 ? 'on' : '',on:{\"click\":function($event){return _vm.changeStatus(4)}}},[_vm._v(\"\\n      交易完成\\n    \")])]),_c('div',{staticClass:\"list\"},_vm._l((_vm.list),function(item,index){return _c('div',{key:index,staticClass:\"item\"},[_c('div',{staticClass:\"order-num acea-row row-middle\",on:{\"click\":function($event){return _vm.toDetail(item)}}},[_vm._v(\"\\n        订单号：\"+_vm._s(item.order_id)+\"\\n        \"),_c('span',{staticClass:\"time\"},[_vm._v(\"下单时间：\"+_vm._s(item.add_time))])]),_vm._l((item._info),function(val,key){return _c('div',{key:key,staticClass:\"pos-order-goods\"},[_c('div',{staticClass:\"goods acea-row row-between-wrapper\",on:{\"click\":function($event){return _vm.toDetail(item)}}},[_c('div',{staticClass:\"picTxt acea-row row-between-wrapper\"},[_c('div',{staticClass:\"pictrue\"},[_c('img',{attrs:{\"src\":val.cart_info.productInfo.image}})]),_c('div',{staticClass:\"text acea-row row-between row-column\"},[_c('div',{staticClass:\"info line2\"},[_vm._v(\"\\n                \"+_vm._s(val.cart_info.productInfo.store_name)+\"\\n              \")]),(val.cart_info.productInfo.suk)?_c('div',{staticClass:\"attr\"},[_vm._v(\"\\n                \"+_vm._s(val.cart_info.productInfo.suk)+\"\\n              \")]):_vm._e()])]),_c('div',{staticClass:\"money\"},[_c('div',{staticClass:\"x-money\"},[_vm._v(\"￥\"+_vm._s(val.cart_info.productInfo.price))]),_c('div',{staticClass:\"num\"},[_vm._v(\"x\"+_vm._s(val.cart_info.cart_num))]),_c('div',{staticClass:\"y-money\"},[_vm._v(\"\\n              ￥\"+_vm._s(val.cart_info.productInfo.ot_price)+\"\\n            \")])])])])}),_c('div',{staticClass:\"public-total\"},[_vm._v(\"\\n        共\"+_vm._s(item.total_num)+\"件商品，应支付\\n        \"),_c('span',{staticClass:\"money\"},[_vm._v(\"￥\"+_vm._s(item.pay_price))]),_vm._v(\" ( 邮费 ¥\"+_vm._s(item.total_postage)+\"\\n        )\\n      \")]),_c('div',{staticClass:\"operation acea-row row-between-wrapper\"},[_c('div',{staticClass:\"more\"}),_c('div',{staticClass:\"acea-row row-middle\"},[(_vm.where.status == 0)?_c('div',{staticClass:\"bnt\",on:{\"click\":function($event){return _vm.modify(item, 0)}}},[_vm._v(\"\\n            一键改价\\n          \")]):_vm._e(),_c('div',{staticClass:\"bnt\",on:{\"click\":function($event){return _vm.modify(item, 1)}}},[_vm._v(\"订单备注\")]),(item.pay_type === 'offline' && item.paid === 0)?_c('div',{staticClass:\"bnt cancel\",on:{\"click\":function($event){return _vm.offlinePay(item)}}},[_vm._v(\"\\n            确认付款\\n          \")]):_vm._e(),(_vm.where.status == 1)?_c('router-link',{staticClass:\"bnt\",attrs:{\"to\":'/customer/delivery/' + item.order_id}},[_vm._v(\"去发货\\n          \")]):_vm._e()],1)])],2)}),0),_c('Loading',{attrs:{\"loaded\":_vm.loaded,\"loading\":_vm.loading}}),_c('PriceChange',{attrs:{\"change\":_vm.change,\"orderInfo\":_vm.orderInfo,\"status\":_vm.status},on:{\"closechange\":function($event){return _vm.changeclose($event)},\"savePrice\":_vm.savePrice}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"pos-order-list\" ref=\"container\">\n    <div class=\"nav acea-row row-around row-middle\">\n      <div\n        class=\"item\"\n        :class=\"where.status == 0 ? 'on' : ''\"\n        @click=\"changeStatus(0)\"\n      >\n        待付款\n      </div>\n      <div\n        class=\"item\"\n        :class=\"where.status == 1 ? 'on' : ''\"\n        @click=\"changeStatus(1)\"\n      >\n        待发货\n      </div>\n      <div\n        class=\"item\"\n        :class=\"where.status == 2 ? 'on' : ''\"\n        @click=\"changeStatus(2)\"\n      >\n        待收货\n      </div>\n      <div\n        class=\"item\"\n        :class=\"where.status == 3 ? 'on' : ''\"\n        @click=\"changeStatus(3)\"\n      >\n        待评价\n      </div>\n      <div\n        class=\"item\"\n        :class=\"where.status == 4 ? 'on' : ''\"\n        @click=\"changeStatus(4)\"\n      >\n        交易完成\n      </div>\n    </div>\n    <div class=\"list\">\n      <div class=\"item\" v-for=\"(item, index) in list\" :key=\"index\">\n        <div class=\"order-num acea-row row-middle\" @click=\"toDetail(item)\">\n          订单号：{{ item.order_id }}\n          <span class=\"time\">下单时间：{{ item.add_time }}</span>\n        </div>\n        <div\n          class=\"pos-order-goods\"\n          v-for=\"(val, key) in item._info\"\n          :key=\"key\"\n        >\n          <div\n            class=\"goods acea-row row-between-wrapper\"\n            @click=\"toDetail(item)\"\n          >\n            <div class=\"picTxt acea-row row-between-wrapper\">\n              <div class=\"pictrue\">\n                <img :src=\"val.cart_info.productInfo.image\" />\n              </div>\n              <div class=\"text acea-row row-between row-column\">\n                <div class=\"info line2\">\n                  {{ val.cart_info.productInfo.store_name }}\n                </div>\n                <div class=\"attr\" v-if=\"val.cart_info.productInfo.suk\">\n                  {{ val.cart_info.productInfo.suk }}\n                </div>\n              </div>\n            </div>\n            <div class=\"money\">\n              <div class=\"x-money\">￥{{ val.cart_info.productInfo.price }}</div>\n              <div class=\"num\">x{{ val.cart_info.cart_num }}</div>\n              <div class=\"y-money\">\n                ￥{{ val.cart_info.productInfo.ot_price }}\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"public-total\">\n          共{{ item.total_num }}件商品，应支付\n          <span class=\"money\">￥{{ item.pay_price }}</span> ( 邮费 ¥{{\n            item.total_postage\n          }}\n          )\n        </div>\n        <div class=\"operation acea-row row-between-wrapper\">\n          <div class=\"more\">\n            <!--            <div class=\"iconfont icon-gengduo\" @click=\"more(index)\"></div>-->\n            <!--            <div class=\"order\" v-show=\"current === index\">-->\n            <!--              <div class=\"items\">-->\n            <!--                {{ where.status > 0 ? \"删除\" : \"取消\" }}订单-->\n            <!--              </div>-->\n            <!--              <div class=\"arrow\"></div>-->\n            <!--            </div>-->\n          </div>\n          <div class=\"acea-row row-middle\">\n            <div class=\"bnt\" @click=\"modify(item, 0)\" v-if=\"where.status == 0\">\n              一键改价\n            </div>\n            <div class=\"bnt\" @click=\"modify(item, 1)\">订单备注</div>\n            <div\n              class=\"bnt cancel\"\n              v-if=\"item.pay_type === 'offline' && item.paid === 0\"\n              @click=\"offlinePay(item)\"\n            >\n              确认付款\n            </div>\n            <router-link\n              class=\"bnt\"\n              v-if=\"where.status == 1\"\n              :to=\"'/customer/delivery/' + item.order_id\"\n              >去发货\n            </router-link>\n          </div>\n        </div>\n      </div>\n    </div>\n    <Loading :loaded=\"loaded\" :loading=\"loading\"></Loading>\n    <PriceChange\n      :change=\"change\"\n      :orderInfo=\"orderInfo\"\n      v-on:closechange=\"changeclose($event)\"\n      v-on:savePrice=\"savePrice\"\n      :status=\"status\"\n    ></PriceChange>\n  </div>\n</template>\n<script>\nimport PriceChange from \"@components/PriceChange\";\nimport Loading from \"@components/Loading\";\nimport {\n  getAdminOrderList,\n  setAdminOrderPrice,\n  setAdminOrderRemark,\n  setOfflinePay\n} from \"../../api/admin\";\nimport { required, num } from \"@utils/validate\";\nimport { validatorDefaultCatch } from \"@utils/dialog\";\nexport default {\n  name: \"AdminOrderList\",\n  components: {\n    PriceChange,\n    Loading\n  },\n  props: {},\n  data: function() {\n    return {\n      current: \"\",\n      change: false,\n      types: 0,\n      where: {\n        page: 1,\n        limit: 5,\n        status: 0\n      },\n      list: [],\n      loaded: false,\n      loading: false,\n      orderInfo: {},\n      status: \"\"\n    };\n  },\n  watch: {\n    \"$route.params.types\": function(newVal) {\n      let that = this;\n      if (newVal != undefined) {\n        that.where.status = newVal;\n        that.init();\n      }\n    },\n    types: function() {\n      this.getIndex();\n    }\n  },\n  mounted: function() {\n    let that = this;\n    that.where.status = that.$route.params.types;\n    that.current = \"\";\n    that.getIndex();\n    that.$scroll(that.$refs.container, () => {\n      !that.loading && that.getIndex();\n    });\n  },\n  methods: {\n    more: function(index) {\n      if (this.current === index) this.current = \"\";\n      else this.current = index;\n    },\n    modify: function(item, status) {\n      this.change = true;\n      this.orderInfo = item;\n      this.status = status;\n    },\n    changeclose: function(msg) {\n      this.change = msg;\n    },\n    async savePrice(opt) {\n      let that = this,\n        data = {},\n        price = opt.price,\n        remark = opt.remark;\n      data.order_id = that.orderInfo.order_id;\n      if (that.status == 0) {\n        try {\n          await this.$validator({\n            price: [\n              required(required.message(\"金额\")),\n              num(num.message(\"金额\"))\n            ]\n          }).validate({ price });\n        } catch (e) {\n          return validatorDefaultCatch(e);\n        }\n        data.price = price;\n        setAdminOrderPrice(data).then(\n          function() {\n            that.change = false;\n            that.$dialog.success(\"改价成功\");\n            that.init();\n          },\n          function() {\n            that.change = false;\n            that.$dialog.error(\"改价失败\");\n          }\n        );\n      } else {\n        try {\n          await this.$validator({\n            remark: [required(required.message(\"备注\"))]\n          }).validate({ remark });\n        } catch (e) {\n          return validatorDefaultCatch(e);\n        }\n        data.remark = remark;\n        setAdminOrderRemark(data).then(\n          res => {\n            that.change = false;\n            that.$dialog.success(res.msg);\n            that.init();\n          },\n          err => {\n            that.change = false;\n            that.$dialog.error(err.msg);\n          }\n        );\n      }\n    },\n    init: function() {\n      this.list = [];\n      this.where.page = 1;\n      this.loaded = false;\n      this.loading = false;\n      this.getIndex();\n      this.current = \"\";\n    },\n    getIndex: function() {\n      let that = this;\n      if (that.loading || that.loaded) return;\n      that.loading = true;\n      getAdminOrderList(that.where).then(\n        res => {\n          that.loading = false;\n          that.loaded = res.data.length < that.where.limit;\n          that.list.push.apply(that.list, res.data);\n          that.where.page = that.where.page + 1;\n        },\n        err => {\n          that.$dialog.error(err.msg);\n        }\n      );\n    },\n    changeStatus: function(val) {\n      if (this.where.status != val) {\n        this.where.status = val;\n        this.init();\n      }\n    },\n    toDetail: function(item) {\n      this.$router.push({ path: \"/customer/orderdetail/\" + item.order_id });\n    },\n    offlinePay: function(item) {\n      console.log(item);\n      setOfflinePay({ order_id: item.order_id }).then(\n        res => {\n          this.$dialog.success(res.msg);\n          this.init();\n        },\n        error => {\n          this.$dialog.error(error.msg);\n        }\n      );\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminOrderList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminOrderList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminOrderList.vue?vue&type=template&id=afcabd50&\"\nimport script from \"./AdminOrderList.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminOrderList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}