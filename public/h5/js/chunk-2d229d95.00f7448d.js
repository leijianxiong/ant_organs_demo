(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d229d95"],{deca:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"personal-data"},[e("div",{staticClass:"list"},[e("div",{staticClass:"item acea-row row-between-wrapper"},[e("div",[t._v("头像")]),e("VueCoreImageUpload",{ref:"upImg",staticClass:"btn btn-primary",attrs:{crop:!1,compress:"80",headers:t.headers,"max-file-size":5242880,credentials:!1,inputAccept:"image/*",inputOfFile:"file",url:t.url},on:{imageuploaded:t.imageuploaded}},[e("div",{staticClass:"pictrue"},[e("img",{attrs:{src:t.avatar}})])])],1),e("div",{staticClass:"item acea-row row-between-wrapper"},[e("div",[t._v("昵称")]),e("div",{staticClass:"input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.userInfo.nickname,expression:"userInfo.nickname"}],attrs:{type:"text"},domProps:{value:t.userInfo.nickname},on:{input:function(a){a.target.composing||t.$set(t.userInfo,"nickname",a.target.value)}}})])]),e("div",{staticClass:"item acea-row row-between-wrapper"},[e("div",[t._v("ID号")]),e("div",{staticClass:"input acea-row row-between-wrapper"},[e("input",{staticClass:"id",attrs:{type:"text",disabled:""},domProps:{value:t.userInfo.uid}}),e("span",{staticClass:"iconfont icon-suozi"})])]),t.userInfo.phone?t.userInfo.phone?e("div",{staticClass:"item acea-row row-between-wrapper"},[e("div",[t._v("手机号码")]),e("div",{staticClass:"input acea-row row-between-wrapper"},[e("div",{staticClass:"input acea-row row-between-wrapper"},[e("input",{staticClass:"id",attrs:{type:"text",disabled:""},domProps:{value:t.userInfo.phone}}),e("span",{staticClass:"iconfont icon-suozi"})])])]):t._e():e("div",[e("router-link",{staticClass:"item acea-row row-between-wrapper",attrs:{to:"/user/binding"}},[e("div",[t._v("绑定手机号")]),e("div",{staticClass:"input"},[t._v("\n          点击绑定手机号"),e("span",{staticClass:"iconfont icon-xiangyou"})])])],1),t.userInfo.phone?e("div",[e("router-link",{staticClass:"item acea-row row-between-wrapper",attrs:{to:"/change_password"}},[e("div",[t._v("密码")]),e("div",{staticClass:"input"},[t._v("\n          点击修改密码"),e("span",{staticClass:"iconfont icon-xiangyou"})])])],1):t._e()]),e("div",{staticClass:"modifyBnt bg-color-red",on:{click:t.submit}},[t._v("保存修改")]),e("div",{staticClass:"logOut cart-color acea-row row-center-wrapper",on:{click:t.logout}},[t._v("\n    退出登录\n  ")])])},i=[],o=(e("7f7f"),e("2f62")),n=e("ed08"),r=e("f603"),c=e("c24f"),u=e("74f9"),l={name:"PersonalData",components:{VueCoreImageUpload:r["a"]},data:function(){return{url:"".concat(n["a"],"/upload/image"),headers:{Authorization:"Bearer "+this.$store.state.app.token},avatar:"",isWeixin:!1}},watch:{$route:function(t){"PersonalData"===t.name&&this.$store.dispatch("USERINFO",!0)}},computed:Object(o["b"])(["userInfo"]),mounted:function(){this.avatar=this.userInfo.avatar,this.isWeixin=Object(n["d"])()},methods:{imageuploaded:function(t){if(200!==t.status)return this.$dialog.error(t.msg||"上传图片失败");this.userInfo.avatar=t.data.url,console.log(t.data),this.$set(this,"avatar",t.data.url)},submit:function(){var t=this;Object(c["M"])({nickname:Object(n["f"])(this.userInfo.nickname),avatar:this.userInfo.avatar}).then(function(a){t.$store.dispatch("USERINFO",!0),t.$dialog.success(a.msg),t.$router.go(-1)},function(a){t.$dialog.error(a.msg)})},logout:function(){var t=this;this.$dialog.confirm({mes:"确认退出登录?",opts:function(){Object(c["s"])().then(function(a){t.$store.commit("LOGOUT"),Object(u["clearAuthStatus"])(),location.href=location.origin,console.log(a)}).catch(function(t){console.log(t)})}})}}},d=l,p=e("2877"),v=Object(p["a"])(d,s,i,!1,null,null,null);a["default"]=v.exports}}]);
//# sourceMappingURL=chunk-2d229d95.00f7448d.js.map